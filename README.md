
![Python](https://img.shields.io/badge/python-3.11-blue)
![License](https://img.shields.io/badge/license-MIT-green)


# üì¶ Chat Service (FastAPI + WebSockets)

–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å –¥–ª—è –æ–±–º–µ–Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.  
–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –Ω–∞ **FastAPI** —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π **WebSocket** –¥–ª—è —á–∞—Ç–æ–≤ –∏ **REST API** –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏.  
–ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è **PostgreSQL** –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö –∏ —á–∞—Ç–∞—Ö, –∞ **MongoDB** ‚Äî –¥–ª—è –∏—Å—Ç–æ—Ä–∏–∏ —Å–æ–æ–±—â–µ–Ω–∏–π.

---

## üöÄ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
- üîë –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (**JWT**).  
- üë• –°–æ–∑–¥–∞–Ω–∏–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–∞—Ç–∞–º–∏.  
- üí¨ –û—Ç–ø—Ä–∞–≤–∫–∞ –∏ –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ —á–µ—Ä–µ–∑ **WebSocket**.  
- üóÑÔ∏è –•—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ **MongoDB**, –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö ‚Äî –≤ **PostgreSQL**.  
- üìë –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API —á–µ—Ä–µ–∑ **Swagger UI** (`/docs`).  

---

## üõ†Ô∏è –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π
- **–Ø–∑—ã–∫ / –§—Ä–µ–π–º–≤–æ—Ä–∫**: Python 3.11, FastAPI, AsyncIO  
- **–ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö**: PostgreSQL, MongoDB  
- **ORM –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è**: SQLAlchemy, Pydantic  
- **–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞**: Docker, Docker Compose  
- **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: Pytest (—é–Ω–∏—Ç-, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –∏ API-—Ç–µ—Å—Ç—ã)  
- **CI/CD**: GitHub Actions (–ª–∏–Ω—Ç–µ—Ä—ã, —Ç–∏–ø–∏–∑–∞—Ü–∏—è, —Ç–µ—Å—Ç—ã, coverage)  

---

## ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–µ–∫—Ç
```bash
git clone https://github.com/VtGoodgame/Chat_service.git
cd Chat_service
```
### 2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
–ü—Ä–∏–º–µ—Ä .env 
```env
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_DB=chat_service
JWT_SECRET=dev-secret-change-me

```
### 3. –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker Compose

```bash
docker-compose up --build
```

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞:
- API –¥–æ—Å—Ç—É–ø–Ω–æ –Ω–∞: http://localhost:8000
- Swagger: http://localhost:8000/docs

### üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
```bash
pytest -v
```

### üìä –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (—É–ø—Ä–æ—â—ë–Ω–Ω–æ)
```scss
[ FastAPI ] 
   ‚îÇ
   ‚îú‚îÄ‚îÄ REST API (Auth, Users)
   ‚îú‚îÄ‚îÄ WebSocket (Chat, Messages)
   ‚îÇ
   ‚îú‚îÄ‚îÄ PostgreSQL (Users, Chats)
   ‚îî‚îÄ‚îÄ MongoDB (Message History)
```
